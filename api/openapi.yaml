openapi: 3.1.0
info:
  description: "REST API for CyborgDB: The Confidential Vector Database"
  title: CyborgDB Service
  version: 0.12.0
servers:
- url: /
paths:
  /v1/health:
    get:
      description: Check if the API is running.
      operationId: health_check_v1_health_get
      responses:
        "200":
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                title: Response Health Check V1 Health Get
          description: Successful Response
      summary: Health check endpoint
  /v1/indexes/list:
    get:
      description: List all available indexes.
      operationId: list_indexes_v1_indexes_list_get
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IndexListResponseModel'
          description: Successful response
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Permission denied from license issue
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Unexpected server error
      security:
      - APIKeyHeader: []
      summary: List Encrypted Indexes
  /v1/indexes/create:
    post:
      description: Create a new encrypted index with the provided configuration.
      operationId: create_index_v1_indexes_create_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateIndexRequest'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cyborgdb_service__api__schemas__index__SuccessResponseModel'
          description: Successful response
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Permission denied from license issue
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Unexpected server error
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Conflict for index name
        "422":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - APIKeyHeader: []
      summary: Create Encrypted Index
  /v1/indexes/describe:
    post:
      description: Get information about a specific index.
      operationId: get_index_info_v1_indexes_describe_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IndexOperationRequest'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IndexInfoResponseModel'
          description: Successful response
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Permission denied from license issue
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Unexpected server error
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Not able to find index
        "422":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - APIKeyHeader: []
      summary: Describe Encrypted Index
  /v1/indexes/delete:
    post:
      description: Delete a specific index.
      operationId: delete_index_v1_indexes_delete_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IndexOperationRequest'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cyborgdb_service__api__schemas__index__SuccessResponseModel'
          description: Successful response
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Permission denied from license issue
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Unexpected server error
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Not able to find index
        "422":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - APIKeyHeader: []
      summary: Delete Encrypted Index
  /v1/indexes/train:
    post:
      description: |-
        Train the index for efficient querying.

        Note: This endpoint triggers manual training. Automatic training is also
        triggered based on vector count thresholds after upserts.
      operationId: train_index_v1_indexes_train_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TrainRequest'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cyborgdb_service__api__schemas__index__SuccessResponseModel'
          description: Successful response
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Permission denied from license issue
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Unexpected server error
        "422":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - APIKeyHeader: []
      summary: Train Encrypted index
  /v1/indexes/training-status:
    get:
      description: |-
        Get the current training status including indexes being trained
        and the retrain threshold configuration.

        Returns:
            dict: Training status information including:
                - training_indexes: List of index names currently being trained
                - retrain_threshold: The multiplier used for the retraining threshold
      operationId: get_training_status_v1_indexes_training_status_get
      responses:
        "200":
          content:
            application/json:
              schema: {}
          description: Successful Response
      summary: Get Training Status
  /v1/vectors/upsert:
    post:
      description: |-
        Add or update vectors in the index.

        After upserting, checks if the index needs training/retraining based on the
        number of vectors and triggers automatic training if needed.
      operationId: upsert_vectors_v1_vectors_upsert_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpsertRequest'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cyborgdb_service__api__schemas__vectors__SuccessResponseModel'
          description: Successful response
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Permission denied from license issue
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Unexpected server error
        "422":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - APIKeyHeader: []
      summary: Add Items to Encrypted Index
  /v1/vectors/query:
    post:
      description: Search for nearest neighbors in the index.
      operationId: query_vectors_v1_vectors_query_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Request'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryResponse'
          description: Successful response
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Permission denied from license issue
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Unexpected server error
        "422":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - APIKeyHeader: []
      summary: Query Encrypted Index
  /v1/vectors/get:
    post:
      description: Retrieve vectors by their IDs.
      operationId: get_vectors_v1_vectors_get_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetRequest'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetResponseModel'
          description: Successful response
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Permission denied from license issue
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Unexpected server error
        "422":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - APIKeyHeader: []
      summary: Get Items from Encrypted Index
  /v1/vectors/delete:
    post:
      description: Delete vectors by their IDs.
      operationId: delete_vectors_v1_vectors_delete_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteRequest'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cyborgdb_service__api__schemas__vectors__SuccessResponseModel'
          description: Successful response
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Unable to find item to delete
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Unexpected server error
        "422":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - APIKeyHeader: []
      summary: Delete Items from Encrypted Index
  /v1/vectors/list_ids:
    post:
      description: |-
        List all item IDs currently stored in the index.

        Returns a list of all IDs and the total count.
      operationId: list_ids_v1_vectors_list_ids_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ListIDsRequest'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListIDsResponse'
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - APIKeyHeader: []
      summary: List all IDs in an index
  /v1/vectors/num_vectors:
    post:
      description: Get the number of vectors stored in an index
      operationId: get_index_size_v1_vectors_num_vectors_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IndexOperationRequest'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cyborgdb_service__api__schemas__vectors__SuccessResponseModel'
          description: Successful response
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Permission denied from license issue
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
          description: Unexpected server error
        "422":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - APIKeyHeader: []
      summary: Get the number of vectors in an index
components:
  schemas:
    BatchQueryRequest:
      description: |-
        Request model for batch similarity search.

        Inherits:
            IndexOperationRequest: Includes `index_name` and `index_key`.

        Attributes:
            query_vectors (List[List[float]]): List of vectors to search for in batch mode.
            top_k (Optional[int]): Number of nearest neighbors to return for each query. Defaults to 100.
            n_probes (Optional[int]): Number of lists to probe during the query. Defaults to auto.
            greedy (Optional[bool]): Whether to use greedy search. Defaults to False.
            filters (Optional[Dict[str, Any]]): JSON-like dictionary specifying metadata filters. Defaults to {}.
            include (List[str]): List of additional fields to include in the response. Defaults to `["distance", "metadata"]`.
      properties:
        index_key:
          description: 32-byte encryption key as hex string
          title: Index Key
          type: string
        index_name:
          description: ID name
          title: Index Name
          type: string
        query_vectors:
          items:
            items:
              type: number
            type: array
          type: array
        top_k:
          nullable: true
          type: integer
        n_probes:
          nullable: true
          type: integer
        greedy:
          nullable: true
          type: boolean
        filters:
          additionalProperties: true
          nullable: true
          type: object
        include:
          default:
          - distance
          - metadata
          items:
            type: string
          type: array
      required:
      - index_key
      - index_name
      - query_vectors
      title: BatchQueryRequest
    CreateIndexRequest:
      description: "Request model for creating a new encrypted index.\n\nAttributes:\n\
        \    index_config (Optional[Union[IndexIVFModel, IndexIVFPQModel, IndexIVFFlatModel]]):\
        \ \n        Optional configuration model for the index.\n    index_key (str):\
        \ A 32-byte encryption key as a hex string.\n    index_name (str): The name/identifier\
        \ of the index.\n    embedding_model (Optional[str]): Optional embedding model\
        \ name.\n    metric (Optional[str]): Optional distance metric."
      example:
        index_config:
          type: ivf
          dimension: 0
        index_key: index_key
        metric: metric
        embedding_model: embedding_model
        index_name: index_name
      properties:
        index_config:
          $ref: '#/components/schemas/Index_Config'
        index_key:
          description: 32-byte encryption key as hex string
          title: Index Key
          type: string
        index_name:
          description: ID name
          title: Index Name
          type: string
        embedding_model:
          nullable: true
          type: string
        metric:
          nullable: true
          type: string
      required:
      - index_key
      - index_name
      title: CreateIndexRequest
    DeleteRequest:
      description: |-
        Request model for deleting vectors from the encrypted index.

        Inherits:
            IndexOperationRequest: Includes `index_name` and `index_key`.

        Attributes:
            ids (List[str]): List of vector item IDs to be deleted.
      example:
        index_key: index_key
        ids:
        - ids
        - ids
        index_name: index_name
      properties:
        index_key:
          description: 32-byte encryption key as hex string
          title: Index Key
          type: string
        index_name:
          description: ID name
          title: Index Name
          type: string
        ids:
          items:
            type: string
          type: array
      required:
      - ids
      - index_key
      - index_name
      title: DeleteRequest
    ErrorResponseModel:
      description: |-
        Standard error response model.

        Attributes:
            status_code (int): HTTP status code of the error.
            detail (str): A detailed message describing the error.
      example:
        status_code: 0
        detail: detail
      properties:
        status_code:
          title: Status Code
          type: integer
        detail:
          title: Detail
          type: string
      required:
      - detail
      - status_code
      title: ErrorResponseModel
    GetRequest:
      description: "Request model for retrieving specific vectors from the index.\n\
        \nInherits:\n    IndexOperationRequest: Includes `index_name` and `index_key`.\n\
        \nAttributes:\n    ids (List[str]): List of vector item IDs to retrieve.\n\
        \    include (List[str]): List of fields to include in the response. \n  \
        \      Defaults to `[\"vector\", \"contents\", \"metadata\"]`."
      example:
        index_key: index_key
        include:
        - include
        - include
        ids:
        - ids
        - ids
        index_name: index_name
      properties:
        index_key:
          description: 32-byte encryption key as hex string
          title: Index Key
          type: string
        index_name:
          description: ID name
          title: Index Name
          type: string
        ids:
          items:
            type: string
          type: array
        include:
          default:
          - vector
          - contents
          - metadata
          items:
            type: string
          type: array
      required:
      - ids
      - index_key
      - index_name
      title: GetRequest
    GetResponseModel:
      description: |-
        Response model for retrieving multiple encrypted index items.

        Attributes:
            results (List[GetResultItem]): A list of retrieved items with requested fields.
      example:
        results:
        - metadata:
            key: ""
          contents: ""
          vector:
          - 0.8008281904610115
          - 0.8008281904610115
          id: id
        - metadata:
            key: ""
          contents: ""
          vector:
          - 0.8008281904610115
          - 0.8008281904610115
          id: id
      properties:
        results:
          items:
            $ref: '#/components/schemas/GetResultItemModel'
          type: array
      required:
      - results
      title: GetResponseModel
    GetResultItemModel:
      description: |-
        Represents an individual item retrieved from the encrypted index.

        Attributes:
            id (str): The unique identifier of the item.
            metadata (Optional[Dict[str, Any]]): Additional metadata associated with the item.
            contents (Optional[bytes]): The raw byte contents of the item.
            vector (Optional[List[float]]): The vector representation of the item.
      example:
        metadata:
          key: ""
        contents: ""
        vector:
        - 0.8008281904610115
        - 0.8008281904610115
        id: id
      properties:
        id:
          title: Id
          type: string
        metadata:
          additionalProperties: true
          nullable: true
          type: object
        contents:
          format: binary
          nullable: true
          type: string
        vector:
          items:
            type: number
          nullable: true
          type: array
      required:
      - id
      title: GetResultItemModel
    HTTPValidationError:
      example:
        detail:
        - msg: msg
          loc:
          - ValidationError_loc_inner
          - ValidationError_loc_inner
          type: type
        - msg: msg
          loc:
          - ValidationError_loc_inner
          - ValidationError_loc_inner
          type: type
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          type: array
      title: HTTPValidationError
    IndexIVFFlatModel:
      description: |-
        Model for configuring an IVFFlat (Inverted File with Flat quantization) index.

        Attributes:
            type (str): Index type identifier. Defaults to "ivfflat".
      properties:
        dimension:
          nullable: true
          type: integer
        type:
          default: ivfflat
          title: Type
          type: string
      title: IndexIVFFlatModel
    IndexIVFModel:
      description: |-
        Model for configuring an IVF (Inverted File) index.

        Attributes:
            type (str): Index type identifier. Defaults to "ivf".
      example:
        type: ivf
        dimension: 0
      properties:
        dimension:
          nullable: true
          type: integer
        type:
          default: ivf
          title: Type
          type: string
      title: IndexIVFModel
    IndexIVFPQModel:
      description: |-
        Model for configuring an IVFPQ (Inverted File with Product Quantization) index.

        Attributes:
            type (str): Index type identifier. Defaults to "ivfpq".
            pq_dim (int): Dimensionality of PQ codes.
            pq_bits (int): Number of bits per quantizer.
      properties:
        dimension:
          nullable: true
          type: integer
        type:
          default: ivfpq
          title: Type
          type: string
        pq_dim:
          title: Pq Dim
          type: integer
        pq_bits:
          title: Pq Bits
          type: integer
      required:
      - pq_bits
      - pq_dim
      title: IndexIVFPQModel
    IndexInfoResponseModel:
      description: |-
        Response model for retrieving information about an index.

        Attributes:
            index_name (str): The name of the index.
            index_type (str): The type of index (e.g., IVF, IVFFlat, IVFPQ).
            is_trained (bool): Indicates whether the index has been trained.
            index_config (Dict[str, Any]): The full configuration details of the index.
      example:
        index_config:
          key: ""
        is_trained: true
        index_name: index_name
        index_type: index_type
      properties:
        index_name:
          title: Index Name
          type: string
        index_type:
          title: Index Type
          type: string
        is_trained:
          title: Is Trained
          type: boolean
        index_config:
          additionalProperties: true
          title: Index Config
          type: object
      required:
      - index_config
      - index_name
      - index_type
      - is_trained
      title: IndexInfoResponseModel
    IndexListResponseModel:
      description: |-
        Response model for listing all indexes.

        Attributes:
            indexes (List[str]): List of available index names.
      example:
        indexes:
        - indexes
        - indexes
      properties:
        indexes:
          items:
            type: string
          type: array
      required:
      - indexes
      title: IndexListResponseModel
    IndexOperationRequest:
      description: |-
        Request model for performing operations on an existing index (e.g., delete, describe).

        Attributes:
            index_key (str): A 32-byte encryption key as a hex string.
            index_name (str): The name/identifier of the index.
      example:
        index_key: index_key
        index_name: index_name
      properties:
        index_key:
          description: 32-byte encryption key as hex string
          title: Index Key
          type: string
        index_name:
          description: ID name
          title: Index Name
          type: string
      required:
      - index_key
      - index_name
      title: IndexOperationRequest
    ListIDsRequest:
      description: |-
        Request model for listing all IDs in the index.

        Inherits:
            IndexOperationRequest: Includes `index_name` and `index_key`.
      example:
        index_key: index_key
        index_name: index_name
      properties:
        index_key:
          description: 32-byte encryption key as hex string
          title: Index Key
          type: string
        index_name:
          description: ID name
          title: Index Name
          type: string
      required:
      - index_key
      - index_name
      title: ListIDsRequest
    ListIDsResponse:
      description: |-
        Response model for listing all IDs in the index.

        Attributes:
            ids (List[str]): List of all item IDs in the index.
            count (int): Total number of IDs in the index.
      example:
        count: 0
        ids:
        - ids
        - ids
      properties:
        ids:
          items:
            type: string
          type: array
        count:
          title: Count
          type: integer
      required:
      - count
      - ids
      title: ListIDsResponse
    QueryRequest:
      description: |-
        Request model for performing a similarity search in the encrypted index.

        Inherits:
            IndexOperationRequest: Includes `index_name` and `index_key`.

        Attributes:
            query_vectors (Optional[List[float]]): The vector used for the similarity search.
            query_contents (Optional[str]): Text-based content used for semantic search.
            top_k (Optional[int]): Number of nearest neighbors to return for each query. Defaults to 100.
            n_probes (Optional[int]): Number of lists to probe during the query. Defaults to auto.
            greedy (Optional[bool]): Whether to use greedy search. Defaults to False.
            filters (Optional[Dict[str, Any]]): JSON-like dictionary specifying metadata filters. Defaults to {}.
            include (List[str]): List of additional fields to include in the response. Defaults to `["distance", "metadata"]`.
      example:
        index_key: index_key
        query_contents: query_contents
        include:
        - include
        - include
        query_vectors:
        - 0.8008281904610115
        - 0.8008281904610115
        top_k: 6
        greedy: true
        filters:
          key: ""
        index_name: index_name
        n_probes: 1
      properties:
        index_key:
          description: 32-byte encryption key as hex string
          title: Index Key
          type: string
        index_name:
          description: ID name
          title: Index Name
          type: string
        query_vectors:
          items:
            type: number
          nullable: true
          type: array
        query_contents:
          nullable: true
          type: string
        top_k:
          nullable: true
          type: integer
        n_probes:
          nullable: true
          type: integer
        greedy:
          nullable: true
          type: boolean
        filters:
          additionalProperties: true
          nullable: true
          type: object
        include:
          default:
          - distance
          - metadata
          items:
            type: string
          type: array
      required:
      - index_key
      - index_name
      title: QueryRequest
    QueryResponse:
      description: |-
        Response model for similarity search queries.

        Attributes:
            results (List[QueryResultItem]): List of search results.
      example:
        results:
        - metadata:
            key: ""
          distance: 0.8008281904610115
          vector:
          - 6.027456183070403
          - 6.027456183070403
          id: id
        - metadata:
            key: ""
          distance: 0.8008281904610115
          vector:
          - 6.027456183070403
          - 6.027456183070403
          id: id
      properties:
        results:
          $ref: '#/components/schemas/Results'
      required:
      - results
      title: QueryResponse
    QueryResultItem:
      description: |-
        Represents a single result from a similarity search.

        Attributes:
            id (str): The identifier of the retrieved item.
            distance (Optional[float]): Distance from the query vector (smaller = more similar).
            metadata (Optional[Dict[str, Any]]): Additional metadata for the result.
            vector (Optional[List[float]]): The retrieved vector (if included in response).
      example:
        metadata:
          key: ""
        distance: 0.8008281904610115
        vector:
        - 6.027456183070403
        - 6.027456183070403
        id: id
      properties:
        id:
          title: Id
          type: string
        distance:
          nullable: true
          type: number
        metadata:
          additionalProperties: true
          nullable: true
          type: object
        vector:
          items:
            type: number
          nullable: true
          type: array
      required:
      - id
      title: QueryResultItem
    TrainRequest:
      description: |-
        Request model for training an index.

        Attributes:
            n_lists (Optional[int]): Number of lists/clusters for the index. Default is auto.
            batch_size (Optional[int]): Size of each batch for training. Default is 2048.
            max_iters (Optional[int]): Maximum iterations for training. Default is 100.
            tolerance (Optional[float]): Convergence tolerance for training. Default is 1e-6.
            max_memory (Optional[int]): Maximum memory (MB) usage during training. Default is 0 (no limit).
      example:
        index_key: index_key
        batch_size: 6
        n_lists: 0
        max_iters: 1
        index_name: index_name
        tolerance: 5.962133916683182
        max_memory: 5
      properties:
        index_key:
          description: 32-byte encryption key as hex string
          title: Index Key
          type: string
        index_name:
          description: ID name
          title: Index Name
          type: string
        n_lists:
          nullable: true
          type: integer
        batch_size:
          nullable: true
          type: integer
        max_iters:
          nullable: true
          type: integer
        tolerance:
          nullable: true
          type: number
        max_memory:
          nullable: true
          type: integer
      required:
      - index_key
      - index_name
      title: TrainRequest
    UpsertRequest:
      description: |-
        Request model for adding or updating vectors in an encrypted index.

        Inherits:
            IndexOperationRequest: Includes `index_name` and `index_key`.

        Attributes:
            items (List[VectorItem]): List of vector items to be inserted or updated.
      example:
        index_key: index_key
        index_name: index_name
        items:
        - metadata:
            key: ""
          contents: Contents
          vector:
          - 0.8008281904610115
          - 0.8008281904610115
          id: id
        - metadata:
            key: ""
          contents: Contents
          vector:
          - 0.8008281904610115
          - 0.8008281904610115
          id: id
      properties:
        index_key:
          description: 32-byte encryption key as hex string
          title: Index Key
          type: string
        index_name:
          description: ID name
          title: Index Name
          type: string
        items:
          items:
            $ref: '#/components/schemas/VectorItem'
          type: array
      required:
      - index_key
      - index_name
      - items
      title: UpsertRequest
    ValidationError:
      example:
        msg: msg
        loc:
        - ValidationError_loc_inner
        - ValidationError_loc_inner
        type: type
      properties:
        loc:
          items:
            $ref: '#/components/schemas/ValidationError_loc_inner'
          type: array
        msg:
          title: Message
          type: string
        type:
          title: Error Type
          type: string
      required:
      - loc
      - msg
      - type
      title: ValidationError
    VectorItem:
      description: |-
        Represents a vectorized item for storage in the encrypted index.

        Attributes:
            id (str): Unique identifier for the vector item.
            vector (Optional[List[float]]): The vector representation of the item.
            contents (Optional[Union[str, bytes]]): The original text or associated content (can be string or bytes).
            metadata (Optional[Dict[str, Any]]): Additional metadata associated with the item.
      example:
        metadata:
          key: ""
        contents: Contents
        vector:
        - 0.8008281904610115
        - 0.8008281904610115
        id: id
      properties:
        id:
          title: Id
          type: string
        vector:
          items:
            type: number
          nullable: true
          type: array
        contents:
          $ref: '#/components/schemas/Contents'
        metadata:
          additionalProperties: true
          nullable: true
          type: object
      required:
      - id
      title: VectorItem
    cyborgdb_service__api__schemas__index__SuccessResponseModel:
      description: |-
        Standard success response model.

        Attributes:
            status (str): The status of the response. Defaults to "success".
            message (str): A success message.
      example:
        message: message
        status: success
      properties:
        status:
          default: success
          title: Status
          type: string
        message:
          title: Message
          type: string
      required:
      - message
      title: SuccessResponseModel
    cyborgdb_service__api__schemas__vectors__SuccessResponseModel:
      description: |-
        Standard success response model for operations like upsert and delete.

        Attributes:
            status (str): Operation status. Defaults to `"success"`.
            message (str): Descriptive success message.
      example:
        message: message
        status: success
      properties:
        status:
          default: success
          title: Status
          type: string
        message:
          title: Message
          type: string
      required:
      - message
      title: SuccessResponseModel
    Request:
      anyOf:
      - $ref: '#/components/schemas/QueryRequest'
      - $ref: '#/components/schemas/BatchQueryRequest'
      title: Request
    Index_Config:
      anyOf:
      - $ref: '#/components/schemas/IndexIVFModel'
      - $ref: '#/components/schemas/IndexIVFPQModel'
      - $ref: '#/components/schemas/IndexIVFFlatModel'
      nullable: true
      title: Index Config
    Results:
      anyOf:
      - items:
          $ref: '#/components/schemas/QueryResultItem'
        type: array
      - items:
          items:
            $ref: '#/components/schemas/QueryResultItem'
          type: array
        type: array
      title: Results
    ValidationError_loc_inner:
      anyOf:
      - type: string
      - type: integer
    Contents:
      anyOf:
      - type: string
      - format: binary
        type: string
      nullable: true
      title: Contents
  securitySchemes:
    APIKeyHeader:
      in: header
      name: X-API-Key
      type: apiKey
